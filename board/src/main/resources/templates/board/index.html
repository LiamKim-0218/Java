<html mxlns:th="http://www.thymeleaf.org">

<head th:fragment="boardFragmentHead">
	<link rel="stylesheet" href="/styles/board/index.css" />
</head>

<body>
	<div th:fragment="boardFragment" class="board container">
		<th:block th:if="${session.userName != null}">
			<div th:replace="~{/board/addBoard :: addBoardFragment}"></div>
		</th:block>
		<div>
			<table class="table">
				<thead>
					<tr>
						<th scope="col">#</th>
						<th scope="col">제목</th>
						<th scope="col">작성자</th>
						<th scope="col">작성일자</th>
					</tr>
				</thead>
				<tbody>
					<tr th:each="item:${list}" th:object="${item}">
						<th scope="row" th:text="*{id}"></th>
						<td th:text="*{title}"></td>
						<td th:text="*{userName}"></td>
						<td th:text="*{createdAt}"></td>
						<td>
							<a th:href="@{'/board/view?id=' + *{id}}">보기</a>
							<a th:href="@{'/board/edit?id=' + *{id}}">수정</a>
							<form th:action="@{'/board/delete?id=' + *{id}}" method="post">
								<button type="submit">삭제</button>
							</form>
						</td>
					</tr>
				</tbody>
			</table>
			<div class="pagination">

				
				<div th:if="${pageNumber > 1}">
					<a th:href="@{'/?page=' + ${pageNumber - 1} + '&size=' + ${pageSize}}">&laquo;</a>
				</div>
				
				<div class="space"></div>
				
				<div th:each="page, stat : ${#numbers.sequence(1, totalPage)}"
					th:class="${pageNumber eq stat.index + 1 ? 'active' : ''}">
					<a th:href="@{'/?page=' + (stat.index + 1) + '&size=' + ${pageSize}}"
						th:text="${stat.index + 1}"></a>
				</div>

				<div class="space"></div>
				<div th:if="${pageNumber < totalPage}">
					<a th:href="@{'/?page=' + ${pageNumber + 1} + '&size=' + ${pageSize}}">&raquo;</a>
				</div>
			</div>
		</div>
	</div>
</body>

</html>